webpackJsonp([20],{"1ney":function(n,e,t){"use strict";t.d(e,"b",function(){return k}),t.d(e,"c",function(){return x}),t.d(e,"a",function(){return I});var a=t("MIO4"),i=t.n(a),o=t("TcGV"),r=t.n(o),c=t("3Ng4"),d=t.n(c),u=t("Z20v"),s=t.n(u),h=t("ICrC"),f=t.n(h),l=t("8j2s"),m=t.n(l),p=t("a2lh"),A=t.n(p),C=t("wsSS"),g=t.n(C),b=t("wPZy"),v=t.n(b),y=t("UzK0"),k=function(){return[{label:"已确权茶园",key:"authorizedNum",unit:"座"},{label:"已确权面积",key:"authorizedArea",unit:"亩"}]},x=function(){return[{text:"已确权",icon:f.a,activeIcon:m.a,type:1,totalDataKey:"authorizedNum"},{text:"待审核",icon:i.a,activeIcon:r.a,type:0,totalDataKey:"toApprovalNum"},{text:"已驳回",icon:d.a,activeIcon:s.a,type:2,totalDataKey:"rejectedNum"},{text:"全部",icon:A.a,activeIcon:g.a,type:-1,totalDataKey:"allNum"}]},I=function(){return[{label:"茶园名称",placeholder:"请输入茶园名称",type:"input",key:"teaName",required:!0},{label:"茶园面积",placeholder:"请输入种植面积",type:"input",key:"teaArea",suffixText:"亩",required:!0,inputType:"float",decimalLen:3},{label:"茶园地址",placeholder:"请输入或获取茶园地址",type:"input",key:"teaAddress",required:!0,suffixIcon:v.a},{label:"含硒量",placeholder:"请输入含硒量",type:"input",key:"seleniumContent",suffixText:"mg/kg",required:!0,inputType:"float"},{label:"负责人",placeholder:"请输入负责人",type:"input",key:"personInCharge",required:!0},{label:"负责人手机号",placeholder:"请输入负责人手机号",type:"input",key:"phone",required:!0,inputType:"int",validFnc:y.b,maxlength:11}]}},JcyV:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("Dd8w"),i=t.n(a),o=t("//Fk"),r=t.n(o),c=t("S0e7"),d=t("+EQJ"),u=t.n(d),s=t("0Yob"),h=t("qqiS"),f=t("NTtZ"),l=t("laLp"),m=t("1ney"),p=t("X2Oc"),A=t("VKKs"),C={name:"addTeaConfirm",components:{FcCell:c.a,FcForm:f.a,FcSubmit:l.a,FcLoading:h.a},data:function(){return{title:"",fileImg:u.a,addFormRenderList:Object(m.a)(),userData:A.c.getUserData(),formData:{},isReadyWeChat:!1,showLoading:!1,id:""}},created:function(){this.initWeChat();var n=this.$route.query.id;this.title=n?"修改茶园确权":"申请茶园确权",n&&(this.id=n,this.getTeaConfirmData())},mounted:function(){},methods:{initWeChat:function(){var n=this;return new r.a(function(e,t){Object(s.c)(["getLocation"]).then(function(){n.isReadyWeChat=!0,e()}).catch(function(){t()})})},getTeaConfirmData:function(){var n=this;this.$axios({url:"/tea/auth/authorizeInfo/"+this.id,method:"GET",data:{}}).then(function(e){var t=e.data,a=t.teaName,i=t.teaArea,o=t.teaAddress,r=t.seleniumContent,c=t.personInCharge,d=t.phone;n.formData={teaName:a,teaArea:i,teaAddress:o,seleniumContent:r,personInCharge:c,phone:d}})},handleBack:function(){this.$router.back(-1)},handleClickSuffixIcon:function(n){var e=this;this.showLoading=!0,this.isReadyWeChat?this.handleGetLocation():this.initWeChat().then(function(){e.handleGetLocation()}).catch(function(){e.showLoading=!1})},handleGetLocation:function(){var n=this;Object(s.a)().then(function(e){n.$axios({url:"https://restapi.amap.com/v3/geocode/regeo",method:"GET",data:{key:"f751aff38707f53f57b61405db8abf0a",location:e.longitude+","+e.latitude,radius:50},notCheck:!0}).then(function(e){n.showLoading=!1,n.$set(n.formData,"teaAddress",e.regeocode.formatted_address)}).catch(function(){n.showLoading=!1})}).catch(function(){n.showLoading=!1})},handleSubmit:Object(p.f)(function(n){var e=this;this.$refs.FcForm.validateForm().then(function(t){e.id?e.$axios({url:"/tea/auth/updateAuthorize",data:i()({},t,{tenantName:e.userData.tenantName,id:e.id})}).then(function(t){e.$toast("修改成功"),setTimeout(function(){n&&"function"==typeof n&&n(),e.$router.back(-1)},200)}).catch(function(){n&&"function"==typeof n&&n()}):e.$axios({url:"/tea/auth/addAuthorize",data:i()({},t,{tenantName:e.userData.tenantName})}).then(function(t){e.$toast("新增成功"),setTimeout(function(){n&&"function"==typeof n&&n(),e.$router.back(-1)},200)}).catch(function(){n&&"function"==typeof n&&n()})}).catch(function(){n&&"function"==typeof n&&n()})})}},g=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("FcPage",{attrs:{title:n.title,isBorder:"",showLeft:""}},[t("div",{staticClass:"addTeaConfirm"},[t("div",{staticClass:"addTeaConfirm-content"},[t("FcCell",{attrs:{text:"基本信息",isBold:"",icon:n.fileImg}}),n._v(" "),t("div",{staticClass:"addTeaConfirm-form"},[t("div",{staticClass:"addTeaConfirm-form-line"}),n._v(" "),t("FcForm",{ref:"FcForm",attrs:{renderList:n.addFormRenderList},on:{suffixIcon:n.handleClickSuffixIcon},model:{value:n.formData,callback:function(e){n.formData=e},expression:"formData"}})],1)],1),n._v(" "),t("FcSubmit",{on:{back:n.handleBack,submit:n.handleSubmit}}),n._v(" "),t("FcLoading",{attrs:{isShow:n.showLoading,text:"正在获取位置信息..."}})],1)])};g._withStripped=!0;var b={render:g,staticRenderFns:[]},v=b;var y=!1;var k=t("VU/8")(C,v,!1,function(n){y||t("wopY")},"data-v-2a9bd2ea",null);k.options.__file="src/pages/enterprise/app/teaConfirm/add.vue";e.default=k.exports},Snw5:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.addTeaConfirm[data-v-2a9bd2ea]{padding:0.3rem 0.3rem 0;height:100%;background:#f5f5f5\n}\n.addTeaConfirm-content[data-v-2a9bd2ea]{background-color:#fff\n}\n.addTeaConfirm-content[data-v-2a9bd2ea] .title-text{color:#629b88\n}\n.addTeaConfirm-content .addTeaConfirm-form-line[data-v-2a9bd2ea]{margin:0 0.3rem;height:1px;background-color:#eee\n}\n","",{version:3,sources:["D:/FuChuang/xicha-webapp/src/pages/enterprise/app/teaConfirm/D:/FuChuang/xicha-webapp/src/pages/enterprise/app/teaConfirm/add.vue"],names:[],mappings:";AAwMA,gCACI,wBACA,YACA,kBAAmB;CACtB;AAAA,wCAEG,qBAAsB;CAD1B;AAAA,oDAGQ,aAAc;CAHtB;AAAA,iEAMQ,gBACA,WACA,qBAAsB;CACzB",file:"add.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.addTeaConfirm {\r\n    padding: 0.3rem 0.3rem 0;\r\n    height: 100%;\r\n    background: #f5f5f5;\r\n}\r\n.addTeaConfirm-content {\r\n    background-color: #fff;\r\n    /deep/ .title-text {\r\n        color: #629b88;\r\n    }\r\n    .addTeaConfirm-form-line {\r\n        margin: 0 0.3rem;\r\n        height: 1px;\r\n        background-color: #eee;\r\n    }\r\n}\r\n"],sourceRoot:""}])},wPZy:function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAeFBMVEUAAABim4him4him4hinIlim4hhnIhinIhhnIlim4hinIlgnIhim4hgpoNinIhinIlinIlim4him4hinIhinIlim4hhnIhkm4linIhim4hinIhim4ljm4lin4lim4him4him4hinIhim4hinYhkm4pjmodjm4him4iUEuELAAAAJ3RSTlMA+vH1PewWRTRqUhDQB4BMHOSmlIZuYzfouLGNXSTXxcCfmy8reXdaaV8vAAABJklEQVQoz3WR65aCMAyEk7SFikW5KApeV13n/d9wDwu0XHT+dJLvlGQoeV32hTPMxv2cI5oruQPqXpSn4i5AHU/g00HKQ9oVqT4JbpdA38ybNY203rGqhmKH64tmsle8O7eBi2ih6Ip9e2rknk74kS0ROWx95/xbRSEMbkQx6qHeCxR44/kNmh5I+mqFR0bRCZ6fUZLDug8jP10OzoZ4cCTGj7p0TV5RL6OIj8Nk9Oa4o8EpypF+vc05NdDfZms0VKH8tnmJilKjspBbRrkzZdL2UvP5rzVol0jz9lhqhfx/6ZfhZEkTNv0rPw1vP9Dn4O2Cb9nYUFlR8ZjGLHZcHyY8VnKgibQo7b0S70NP6ZkLCl8Mc5bcTrecp+GiYJ9xIVuL1JNEf6qTEuljEbJZAAAAAElFTkSuQmCC"},wopY:function(n,e,t){var a=t("Snw5");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("f5efccba",a,!1,{})}});
//# sourceMappingURL=20.ba63ed3d1857f80d064a.js.map